<article id="bottombar">

    <div id="bottombar-tabs" class="col-xs-12 no-padding">
	
<div id="sldPanel" ng-if="navInfo.sldViewVisible">
  <div id="sldViewTitle">STYLE EDITOR
    <i ng-click="showSingleBand()" ng-show="!editorSld.singleband"
	  class="material-icons sldButton sldHeaderButton"
	  aria-label="Show single-band style settings"
	  uib-tooltip="Show single-band style settings"
	  tooltip-placement="left"
	  tooltip-trigger="mouseenter"
      tooltip-append-to-body="true">photo</i>
	<i ng-click="showMultiBand()" ng-show="editorSld.singleband"
	  class="material-icons sldButton sldHeaderButton"
	  aria-label="Show multi-band style settings"
	  uib-tooltip="Show multi-band style settings"
	  tooltip-placement="left"
	  tooltip-trigger="mouseenter"
      tooltip-append-to-body="true">photo_library</i>
  </div>
  <label id="sldMenuLabel" for="sldmenu">Choose existing template:</label>
  <select name="sldmenu" id="sldmenu" ng-model="editorSldName" ng-options="sld.name for sld in slds" ng-change="sldSelectionChanged()">
  </select>
  <i ng-click="deleteSld()" ng-show="!editorSld.builtin"
			class="material-icons sldButton"
			aria-label="Delete template"
			uib-tooltip="Delete template"
			tooltip-placement="left"
			tooltip-trigger="mouseenter"
			tooltip-append-to-body="true">delete</i>

  <div id="sldEditTitle">Customize style</div>
  
    <div id="singleBandSelectionDiv" ng-if="editorSld.singleband">
	  <table id="singleBandTable" class="channelSelectionTable">
		<tr class="channelSelectionTableHeaderTR">
		  <th class="channelSelection channelSelectionLabelTH"></th>
		  <th class="channelSelection channelSelectionBandTH">Band number</th>
		  <th class="channelSelection channelSelectionMinTH">Minimum value</th>
		  <th class="channelSelection channelSelectionMaxTH">Maximum value</th>
		  <th></th>
		</tr>
		<tr class="channelSelectionTableDataTR">
		  <td class="channelSelection channelSelectionLabelTD">Gray</td>
		  <td class="channelSelection channelSelectionBandTD">
		    <input class="channelSelectionBandInput" ng-model="editorSld.channelselection.gray" id="sldgrayband" type="number"></input>
		  </td>
		  <td class="channelSelection channelSelectionMinTD">
		    <input class="channelSelectionMinInput" ng-model="editorSld.channelselection.graymin" id="sldgraybandmin" type="number"></input>
		  </td>
		  <td class="channelSelection channelSelectionMaxTD">
		    <input class="channelSelectionMaxInput" ng-model="editorSld.channelselection.graymax" id="sldgraybandmax" type="number"></input>
		  </td>
		  <td class="channelSelection channelSelectionButtonTD">
			<i ng-click="addColormapTemplate()" ng-if="editorSld.colormap.length == 0"
			class="material-icons sldButton"
			aria-label="Add colormap template"
			uib-tooltip="Add colormap template"
			tooltip-placement="left"
			tooltip-trigger="mouseenter"
			tooltip-append-to-body="true">add</i>
			<i ng-click="applySld()"
			class="material-icons sldButton"
			aria-label="Apply settings"
			uib-tooltip="Apply settings"
			tooltip-placement="left"
			tooltip-trigger="mouseenter"
			tooltip-append-to-body="true">sync</i>		  
			<i ng-click="saveSld()" 
			class="material-icons sldButton"
			aria-label="Save settings"
			uib-tooltip="Save settings"
			tooltip-placement="left"
			tooltip-trigger="mouseenter"
			tooltip-append-to-body="true">save</i>
		  </td>
		</tr>
	  </table>

	  <div id="singleBandInfo">If band limits are used define colormap for interval 0-255. Define both lower and upper limits.</div>

	<div id="sldColorMapDiv" ng-show="editorSld.colormap.length > 0">
	
    <div id="sldColormapTitle">Customize colormap</div>

	<div id="sldTableDiv">
	  <table id="sldTable">
		<tr class="sldHeaderRow">
		  <th class="sldHeaderCell">Pixel value</th>
		  <th class="sldHeaderCell">Color</th>
		  <th></th>
		</tr>
		<tr class="sldDataRow" ng-repeat="cm in editorSld.colormap">
		  <td class="sldDataCell"><input class="sldQuantityInput" type="number" value="{{cm.quantity}}"></td>
		  <td class="sldDataCell"><input class="sldColorInput" type="color" value="{{cm.color}}"></td>
		  <td class="sldButtonCell" ng-click="newSldRowBelow($event)"
					   aria-label="Add row below"
					   uib-tooltip="Add row below"
					   tooltip-placement="left"
					   tooltip-trigger="mouseenter"
					   tooltip-append-to-body="true"><i class="material-icons">vertical_align_bottom</i></td>
		  <td class="sldButtonCell" ng-click="newSldRowAbove($event)"
					   aria-label="Add row above"
					   uib-tooltip="Add row above"
					   tooltip-placement="left"
					   tooltip-trigger="mouseenter"
					   tooltip-append-to-body="true"><i class="material-icons">vertical_align_top</i></td>
		  <td class="sldButtonCell" ng-click="deleteSldRow($event)"
					   aria-label="Delete row"
					   uib-tooltip="Delete row"
					   tooltip-placement="left"
					   tooltip-trigger="mouseenter"
					   tooltip-append-to-body="true"><i class="material-icons">clear</i></td>
		</tr>
	  </table>
	</div>
	</div>
  </div>
  
  <div id="multiBandSelectionDiv" ng-if="!editorSld.singleband">
	  <table id="singleBandTable" class="channelSelectionTable">
		<tr class="channelSelectionTableHeaderTR">
		  <th class="channelSelection channelSelectionLabelTH"></th>
		  <th class="channelSelection channelSelectionBandTH">Band number</th>
		  <th class="channelSelection channelSelectionMinTH">Minimum value</th>
		  <th class="channelSelection channelSelectionMaxTH">Maximum value</th>
		  <th></th>
		</tr>
		<tr class="channelSelectionTableDataTR">
		  <td class="channelSelection channelSelectionLabelTD">Red</td>
		  <td class="channelSelection channelSelectionBandTD">
		    <input class="channelSelectionBandInput" ng-model="editorSld.channelselection.red" id="sldredband" name="sldredband" type="number"></input>
		  </td>
		  <td class="channelSelection channelSelectionMinTD">
		    <input class="channelSelectionMinInput" ng-model="editorSld.channelselection.redmin" id="sldredbandmin" name="sldredbandmin" type="number"></input>
		  </td>
		  <td class="channelSelection channelSelectionMaxTD">
		    <input class="channelSelectionMaxInput" ng-model="editorSld.channelselection.redmax" id="sldredbandmax" name="sldredbandmax" type="number"></input>
		  </td>
		  <td class="channelSelection channelSelectionButtonTD" rowspan="3">
	        <i ng-click="applySld()"
			class="material-icons sldButton"
			aria-label="Apply settings"
			uib-tooltip="Apply settings"
			tooltip-placement="left"
			tooltip-trigger="mouseenter"
			tooltip-append-to-body="true">sync</i>
			<i ng-click="saveSld()" 
			class="material-icons sldButton"
			aria-label="Save settings"
			uib-tooltip="Save settings"
			tooltip-placement="left"
			tooltip-trigger="mouseenter"
			tooltip-append-to-body="true">save</i>
		  </td>
		</tr>
		<tr class="channelSelectionTableDataTR">
		  <td class="channelSelection channelSelectionLabelTD">Green</td>
		  <td class="channelSelection channelSelectionBandTD">
		    <input class="channelSelectionBandInput" ng-model="editorSld.channelselection.green" id="sldgreenband" name="sldgreenband" type="number"></input>
		  </td>
		  <td class="channelSelection channelSelectionMinTD">
		    <input class="channelSelectionMinInput" ng-model="editorSld.channelselection.greenmin" id="sldgreenbandmin" name="sldgreenbandmin" type="number"></input>
		  </td>
		  <td class="channelSelection channelSelectionMaxTD">
		    <input class="channelSelectionMaxInput" ng-model="editorSld.channelselection.greenmax" id="sldgreenbandmax" name="sldgreenbandmax" type="number"></input>
		  </td>
		</tr>
		<tr class="channelSelectionTableDataTR">
		  <td class="channelSelection channelSelectionLabelTD">Blue</td>
		  <td class="channelSelection channelSelectionBandTD">
		    <input class="channelSelectionBandInput" ng-model="editorSld.channelselection.blue" id="sldblueband" name="sldblueband" type="number"></input>
		  </td>
		  <td class="channelSelection channelSelectionMinTD">
		    <input class="channelSelectionMinInput" ng-model="editorSld.channelselection.bluemin" id="sldbluebandmin" name="sldbluebandmin" type="number"></input>
		  </td>
		  <td class="channelSelection channelSelectionMaxTD">
		    <input class="channelSelectionMaxInput" ng-model="editorSld.channelselection.bluemax" id="sldbluebandmax" name="sldbluebandmax" type="number"></input>
		  </td>
		</tr>
	  </table>
	  <div id="multiBandInfo">If limits are used they must be defined for all three bands. Define both lower and upper limits.</div>
  </div>

</div>

        <md-tabs md-selected="navInfo.activeBottomNav" md-disable-animation ng-if="!navInfo.sldViewVisible">

            <section ng-controller="ResultsCtrl" ng-if="navInfo.activeTab == tabs.EXPLORER">
                <div ng-if="navInfo.activeBottomNav == bottomNavTabs.RESULTS" class="tab-options" ng-include src="'views/common/bottombar/tabs/resultstab.html'" />
                <md-tab label="RESULTS{{navInfo.resultTabNameExtention}}" ng-click="displayTab(bottomNavTabs.RESULTS)">
                    <md-content>
                        <div id="results" ng-include src="'views/common/bottombar/results.html'" />
                    </md-content>
                </md-tab>
            </section>

            <section ng-controller="DatabasketCtrl" ng-if="navInfo.activeTab == tabs.EXPLORER">
                <div ng-if="navInfo.activeBottomNav == bottomNavTabs.DATABASKETS" class="tab-options" ng-include src="'views/common/bottombar/tabs/databasketstab.html'" />
                <md-tab label="DATABASKETS" ng-click="displayTab(bottomNavTabs.DATABASKETS)">
                    <md-content>
                        <div id="databasket-container" class="col-md-12 bottombar-item-container" media-class="gt-md: col-lg-7" media-show="gt-md" media-show-on="{{dbParams.selectedDatabasket != undefined}}">
                            <div ng-include src="'views/common/bottombar/databasket.html'" />
                        </div>
                        <div id="databaskets-container" class="col-md-12 bottombar-list-container" media-class="gt-md: col-lg-5" media-show="gt-md" media-show-on="{{dbParams.selectedDatabasket === undefined}}">
                            <div ng-include src="'views/common/bottombar/databaskets.html'" />
                        </div>
                    </md-content>
                </md-tab>
            </section>

            <section ng-controller="JobsCtrl" ng-if="navInfo.activeTab == tabs.EXPLORER">
                <div ng-if="navInfo.activeBottomNav == bottomNavTabs.JOBS" class="tab-options" ng-include src="'views/common/bottombar/tabs/jobstab.html'" />
                <md-tab label="JOBS" ng-click="displayTab(bottomNavTabs.JOBS)">
                    <md-content>
                        <div id="job-container" class="col-md-12 bottombar-item-container"  media-class="gt-md: col-lg-7" media-show="gt-md" media-show-on="{{jobParams.selectedJob != undefined}}">
                            <div ng-include src="'views/common/bottombar/job.html'" />
                        </div>
                        <div id="jobs-container" class="col-md-12 bottombar-list-container"  media-class="gt-md: col-lg-5" media-show="gt-md" media-show-on="{{jobParams.selectedJob === undefined}}">
                            <div ng-include src="'views/common/bottombar/jobs.html'" />
                        </div>
                    </md-content>
                </md-tab>
            </section>

            <section ng-controller="MessagesCtrl">
                <div ng-if="navInfo.activeBottomNav == bottomNavTabs.MESSAGES || navInfo.activeTab != tabs.EXPLORER" class="tab-options" ng-include src="'views/common/bottombar/tabs/messagestab.html'" />
                <md-tab label="MESSAGES ({{message.count}})" ng-click="displayTab(bottomNavTabs.MESSAGES)">
                    <md-content>
                       <div id="message-container" class="col-md-12 bottombar-item-container" media-class="gt-md: col-lg-7" media-show="gt-md" media-show-on="{{msgParams.selectedMessage != undefined}}">
                            <div ng-include src="'views/common/bottombar/message.html'" />
                        </div>
                        <div id="messages-container" class="col-md-12 bottombar-list-container" media-class="gt-md: col-lg-5" media-show="gt-md" media-show-on="{{msgParams.selectedMessage === undefined}}">
                            <div ng-include src="'views/common/bottombar/messages.html'" />
                        </div>
                    </md-content>
                </md-tab>
            </section>

        </md-tabs>
    </div>

    <div id="bottombar-expand">
	<md-button class="toolbar-button"
               ng-show="navInfo.sldViewVisible"
			   ng-click="hideSldView()"
			   aria-label="Close"
			   uib-tooltip="Close"
			   tooltip-placement="left"
			   tooltip-trigger="mouseenter"
			   tooltip-append-to-body="true">
		<i class="material-icons">close</i>
	</md-button>

        <md-button class="toolbar-button"
                   ng-show="!bottombarTall"
                   ng-click="toggleBottombarHeight()"
                   aria-label="Expand"
                   uib-tooltip="Expand"
                   tooltip-placement="left"
                   tooltip-trigger="mouseenter"
                   tooltip-append-to-body="true">
            <i class="material-icons">vertical_align_top</i>
        </md-button>

        <md-button class="toolbar-button"
                   ng-show="bottombarTall"
                   ng-click="toggleBottombarHeight()"
                   aria-label="Shrink"
                   uib-tooltip="Shrink"
                   tooltip-placement="left"
                   tooltip-trigger="mouseenter"
                   tooltip-append-to-body="true">
            <i class="material-icons">vertical_align_bottom</i>
        </md-button>

        <md-button class="toolbar-button"
               ng-show="!navInfo.sldViewVisible"
                   ng-click="toggleBottomView()"
                   aria-label="Close"
                   uib-tooltip="Close"
                   tooltip-placement="left"
                   tooltip-trigger="mouseenter"
                   tooltip-append-to-body="true">
            <i class="material-icons">close</i>
        </md-button>
    </div>

</article>
